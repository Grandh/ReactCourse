<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>列表输入demo</title>
		<script src="./js/browser.js" charset="utf-8"></script>
		<script src="./js/react.development.js" charset="utf-8"></script>
		<script src="./js/react-dom.development.js" charset="utf-8"></script>
		<script type="text/babel">


            class Item extends React.Component{
                constructor(...args){
                    super(...args);
                }

                render(){
                    return <li>{this.props.value}</li>;
                }
            }

            class List extends React.Component{
                constructor(...args){
                    super(...args);
                    this.state = {arr:[1,2,3,4]}
                }

                fn(){
                    this.setState({
                        arr:this.state.arr.concat([Math.random()]),
                    });
                }
                render(){
                    var arr = this.state.arr;
                
                    var results = [];
                    for (var i=0;i<arr.length;i++){
                        results.push(<Item key={i} value={arr[i]}/>)
                    }
                    return <ul>
                        <input type="button" value="add list" onClick={this.fn.bind(this)}/>
                        {results}
                    </ul>;
                }                
            }
			window.onload = function(){
			var oDiv = document.getElementById('div1');
				ReactDOM.render(
				<List />,
				oDiv
				);
			};
		</script>

	</head>
	<body>
		<div id="div1">
		</div>
	</body>
</html>

		

